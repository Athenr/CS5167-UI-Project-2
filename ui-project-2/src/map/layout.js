export const layout = [
    [
        {
            "type": "shelf",
            "tileId": 0,
            "items": [
                0,
                1,
                2
            ],
            "selected": 2
        },
        {
            "type": "path",
            "tileId": 1,
            "shelves": [0],
            "active": {
                "north": true,
                "east": true,
                "south": true,
                "west": true,
                "location": true
            }
        },
        {
            "type": "path",
            "tileId": 2,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 3,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 4,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 5,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 6,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 7,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 8,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 9,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 10,
            "shelves": [11]
        },
        {
            "type": "shelf",
            "tileId": 11,
            "items": [
                3,
                4,
                5
            ],
            "reversed": true,
            "selected": 2
        }
    ],
    [
        {
            "type": "shelf",
            "tileId": 12,
            "items": [
                6,
                7,
                8
            ]
        },
        {
            "type": "path",
            "tileId": 13,
            "shelves": [12, 14]
        },
        {
            "type": "shelf",
            "tileId": 14,
            "items": [
                9,
                10,
                11
            ]
        },
        {
            "type": "shelf",
            "tileId": 15,
            "items": [
                12,
                13,
                14
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 16,
            "shelves": [16, 17]
        },
        {
            "type": "shelf",
            "tileId": 17,
            "items": [
                15,
                16,
                17
            ]
        },
        {
            "type": "shelf",
            "tileId": 18,
            "items": [
                18,
                19,
                20
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 19,
            "shelves": [18, 20]
        },
        {
            "type": "shelf",
            "tileId": 20,
            "items": [
                21,
                22,
                23
            ]
        },
        {
            "type": "shelf",
            "tileId": 21,
            "items": [
                24,
                25,
                26
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 22,
            "shelves": [21, 23]
        },
        {
            "type": "shelf",
            "tileId": 23,
            "items": [
                27,
                28,
                29
            ],
            "reversed": true
        }
    ],
    [
        {
            "type": "shelf",
            "tileId": 24,
            "items": [
                30,
                31,
                32
            ]
        },
        {
            "type": "path",
            "tileId": 25,
            "shelves": [24, 26]
        },
        {
            "type": "shelf",
            "tileId": 26,
            "items": [
                33,
                34,
                35
            ]
        },
        {
            "type": "shelf",
            "tileId": 27,
            "items": [
                36,
                37,
                38
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 28,
            "shelves": [27, 29]
        },
        {
            "type": "shelf",
            "tileId": 29,
            "items": [
                39,
                40,
                41
            ]
        },
        {
            "type": "shelf",
            "tileId": 30,
            "items": [
                42,
                43,
                44
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 31,
            "shelves": [30, 32]
        },
        {
            "type": "shelf",
            "tileId": 32,
            "items": [
                45,
                46,
                47
            ]
        },
        {
            "type": "shelf",
            "tileId": 33,
            "items": [
                48,
                49,
                50
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 34,
            "shelves": [33, 35]
        },
        {
            "type": "shelf",
            "tileId": 35,
            "items": [
                51,
                52,
                53
            ],
            "reversed": true
        }
    ],
    [
        {
            "type": "shelf",
            "tileId": 36,
            "items": [
                54,
                55,
                56
            ]
        },
        {
            "type": "path",
            "tileId": 37,
            "shelves": [36, 38]
        },
        {
            "type": "shelf",
            "tileId": 38,
            "items": [
                57,
                58,
                59
            ]
        },
        {
            "type": "shelf",
            "tileId": 39,
            "items": [
                60,
                61,
                62
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 40,
            "shelves": [39, 41]
        },
        {
            "type": "shelf",
            "tileId": 41,
            "items": [
                63,
                64,
                65
            ]
        },
        {
            "type": "shelf",
            "tileId": 42,
            "items": [
                66,
                67,
                68
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 43,
            "shelves": [42, 44]
        },
        {
            "type": "shelf",
            "tileId": 44,
            "items": [
                69,
                70,
                71
            ]
        },
        {
            "type": "shelf",
            "tileId": 45,
            "items": [
                72,
                73,
                74
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 46,
            "shelves": [45, 47]
        },
        {
            "type": "shelf",
            "tileId": 47,
            "items": [
                75,
                76,
                77
            ],
            "reversed": true
        }
    ],
    [
        {
            "type": "shelf",
            "tileId": 48,
            "items": [
                78,
                79,
                80
            ]
        },
        {
            "type": "path",
            "tileId": 49,
            "shelves": [48, 50]
        },
        {
            "type": "shelf",
            "tileId": 50,
            "items": [
                81,
                82,
                83
            ]
        },
        {
            "type": "shelf",
            "tileId": 51,
            "items": [
                84,
                85,
                86
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 52,
            "shelves": [51, 53]
        },
        {
            "type": "shelf",
            "tileId": 53,
            "items": [
                87,
                88,
                89
            ]
        },
        {
            "type": "shelf",
            "tileId": 54,
            "items": [
                90,
                91,
                92
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 55,
            "shelves": [54, 56]
        },
        {
            "type": "shelf",
            "tileId": 56,
            "items": [
                93,
                94,
                95
            ]
        },
        {
            "type": "shelf",
            "tileId": 57,
            "items": [
                96,
                97,
                98
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 58,
            "shelves": [57, 59]
        },
        {
            "type": "shelf",
            "tileId": 59,
            "items": [
                99,
                100,
                101
            ],
            "reversed": true
        }
    ],
    [
        {
            "type": "shelf",
            "tileId": 60,
            "items": [
                102,
                103,
                104
            ]
        },
        {
            "type": "path",
            "tileId": 61,
            "shelves": [60, 62]
        },
        {
            "type": "shelf",
            "tileId": 62,
            "items": [
                105,
                106,
                107
            ]
        },
        {
            "type": "shelf",
            "tileId": 63,
            "items": [
                108,
                109,
                110
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 64,
            "shelves": [63, 65]
        },
        {
            "type": "shelf",
            "tileId": 65,
            "items": [
                111,
                112,
                113
            ]
        },
        {
            "type": "shelf",
            "tileId": 66,
            "items": [
                114,
                115,
                116
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 67,
            "shelves": [66, 68]
        },
        {
            "type": "shelf",
            "tileId": 68,
            "items": [
                117,
                118,
                119
            ]
        },
        {
            "type": "shelf",
            "tileId": 69,
            "items": [
                120,
                121,
                122
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 70,
            "shelves": [69, 71]
        },
        {
            "type": "shelf",
            "tileId": 71,
            "items": [
                123,
                124,
                125
            ],
            "reversed": true
        }
    ],
    [
        {
            "type": "shelf",
            "tileId": 72,
            "items": [
                126,
                127,
                128
            ]
        },
        {
            "type": "path",
            "tileId": 73,
            "shelves": [72, 74]
        },
        {
            "type": "shelf",
            "tileId": 74,
            "items": [
                129,
                130,
                131
            ]
        },
        {
            "type": "shelf",
            "tileId": 75,
            "items": [
                132,
                133,
                134
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 76,
            "shelves": [75, 77]
        },
        {
            "type": "shelf",
            "tileId": 77,
            "items": [
                135,
                136,
                137
            ]
        },
        {
            "type": "shelf",
            "tileId": 78,
            "items": [
                138,
                139,
                140
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 79,
            "shelves": [78, 80]
        },
        {
            "type": "shelf",
            "tileId": 80,
            "items": [
                141,
                142,
                143
            ]
        },
        {
            "type": "shelf",
            "tileId": 81,
            "items": [
                144,
                145,
                146
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 82,
            "shelves": [81, 83]
        },
        {
            "type": "shelf",
            "tileId": 83,
            "items": [
                147,
                148,
                149
            ],
            "reversed": true
        }
    ],
    [
        {
            "type": "shelf",
            "tileId": 84,
            "items": [
                150,
                151,
                152
            ]
        },
        {
            "type": "path",
            "tileId": 85,
            "shelves": [84, 86]
        },
        {
            "type": "shelf",
            "tileId": 86,
            "items": [
                153,
                154,
                155
            ]
        },
        {
            "type": "shelf",
            "tileId": 87,
            "items": [
                156,
                157,
                158
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 88,
            "shelves": [87, 89]
        },
        {
            "type": "shelf",
            "tileId": 89,
            "items": [
                159,
                160,
                161
            ]
        },
        {
            "type": "shelf",
            "tileId": 90,
            "items": [
                162,
                163,
                164
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 91,
            "shelves": [90, 92]
        },
        {
            "type": "shelf",
            "tileId": 92,
            "items": [
                165,
                166,
                167
            ]
        },
        {
            "type": "shelf",
            "tileId": 93,
            "items": [
                168,
                169,
                170
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 94,
            "shelves": [93, 95]
        },
        {
            "type": "shelf",
            "tileId": 95,
            "items": [
                171,
                172,
                173
            ],
            "reversed": true
        }
    ],
    [
        {
            "type": "shelf",
            "tileId": 96,
            "items": [
                174,
                175,
                176
            ]
        },
        {
            "type": "path",
            "tileId": 97,
            "shelves": [96, 98]
        },
        {
            "type": "shelf",
            "tileId": 98,
            "items": [
                177,
                178,
                179
            ]
        },
        {
            "type": "shelf",
            "tileId": 99,
            "items": [
                180,
                181,
                182
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 100,
            "shelves": [99, 101]
        },
        {
            "type": "shelf",
            "tileId": 101,
            "items": [
                183,
                184,
                185
            ]
        },
        {
            "type": "shelf",
            "tileId": 102,
            "items": [
                186,
                187,
                188
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 103,
            "shelves": [102, 104]
        },
        {
            "type": "shelf",
            "tileId": 104,
            "items": [
                189,
                190,
                191
            ]
        },
        {
            "type": "shelf",
            "tileId": 105,
            "items": [
                192,
                193,
                194
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 106,
            "shelves": [105, 107]
        },
        {
            "type": "shelf",
            "tileId": 107,
            "items": [
                195,
                196,
                197
            ],
            "reversed": true
        }
    ],
    [
        {
            "type": "shelf",
            "tileId": 108,
            "items": [
                198,
                199,
                200
            ]
        },
        {
            "type": "path",
            "tileId": 109,
            "shelves": [108, 110]
        },
        {
            "type": "shelf",
            "tileId": 110,
            "items": [
                201,
                202,
                203
            ]
        },
        {
            "type": "shelf",
            "tileId": 111,
            "items": [
                204,
                205,
                206
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 112,
            "shelves": [111, 113]
        },
        {
            "type": "shelf",
            "tileId": 113,
            "items": [
                207,
                208,
                209
            ]
        },
        {
            "type": "shelf",
            "tileId": 114,
            "items": [
                210,
                211,
                212
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 115,
            "shelves": [114, 116]
        },
        {
            "type": "shelf",
            "tileId": 116,
            "items": [
                213,
                214,
                215
            ]
        },
        {
            "type": "shelf",
            "tileId": 117,
            "items": [
                216,
                217,
                218
            ],
            "reversed": true
        },
        {
            "type": "path",
            "tileId": 118,
            "shelves": [117, 119]
        },
        {
            "type": "shelf",
            "tileId": 119,
            "items": [
                219,
                220,
                221
            ],
            "reversed": true
        }
    ],
    [
        {
            "type": "shelf",
            "tileId": 120,
            "items": [
                222,
                223,
                224
            ]
        },
        {
            "type": "path",
            "tileId": 121,
            "shelves": [120]
        },
        {
            "type": "path",
            "tileId": 122,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 123,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 124,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 125,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 126,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 127,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 128,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 129,
            "shelves": []
        },
        {
            "type": "path",
            "tileId": 130,
            "shelves": [131]
        },
        {
            "type": "shelf",
            "tileId": 131,
            "items": [
                225,
                226,
                227
            ],
            "reversed": true
        }
    ]
]


// NOTE: AI generated code below. Also it is now out of date... (no neighbor generating functionality)
/**
* Parses a multiline string representation of a store layout into a 2D array of tile objects.
* 's' is parsed as a shelf tile, '#' is parsed as a path tile.
*
* @param {string} layoutString The string representation of the map.
* @returns {Array<Array<Object>>} A 2D array (grid) of tile objects.
*/
function parseStoreLayout(layoutString) {
    // Split the string by newlines, remove leading/trailing whitespace, and filter out empty lines
    const rows = layoutString.trim().split('\n').filter(row => row.length > 0);

    // Initialize the tile ID counter
    let tileIdCounter = 0;
    let itemIdCounter = 0;

    // Map each row string to an array of tile objects
    const layoutGrid = rows.map((row) => {
        // Map each character in the row string to a tile object
        const tileObjects = Array.from(row).map((char) => {
            let tile;

            // Determine the tile object structure based on the character
            if (char === 's') {
                tile = {
                    type: "shelf",
                    tileId: tileIdCounter,
                    items: [itemIdCounter++, itemIdCounter++, itemIdCounter++] // Initialize the items array for shelves
                };
            } else if (char === '#') {
                tile = {
                    type: "path",
                    tileId: tileIdCounter
                };
            } else {
                // Handle unexpected characters
                console.warn(`Unknown character '${char}' encountered. Defaulting to 'path'.`);
                tile = {
                    type: "path",
                    tileId: tileIdCounter
                };
            }

            // Increment the counter for the next tile
            tileIdCounter++;
            return tile;
        });
        return tileObjects;
    });

    return layoutGrid;
}

// ------------------------------------------------------------------
// --- Usage Example ---
// ------------------------------------------------------------------

const layoutString = `
s##########s
s#ss#ss#ss#s
s#ss#ss#ss#s
s#ss#ss#ss#s
s#ss#ss#ss#s
s#ss#ss#ss#s
s#ss#ss#ss#s
s#ss#ss#ss#s
s#ss#ss#ss#s
s#ss#ss#ss#s
s##########s
`;
